<%- include('./partials/head')  %>
<body>
    <%- include('./partials/header')  %>
    <span class="envios-gratis-span">ENVIOS GRATIS EN PRODUCTOS MAYORES A $5000</span>
    <main class="editar__main">


        <!-- formulario edicion de libro -->
       <section class="editar__section--form">
         
         
        
        <form action="/products/editar/<%= id %>?_method=PUT " method="POST" class="fomulario-edicion" enctype="multipart/form-data">
            <h2 class="titulo--edicion">Editando el libro: <%= titulo %> </h2>

            <div class="datos--libro">

              <input type="text" class="<%= locals.errors && errors.titulo ? 'errorInput' : null %>" name="titulo" id="titulo"  placeholder="Editar el título del libro"  value="<%= titulo %>">
              <small><%= locals.errors && errors.titulo ? errors.titulo.msg : null %></small>

              
            <label for="autor" class="titulo--edicion">Seleccionar Autor</label>
            <select name="autor" id="autor">
              <option value="" selected hidden>Seleccione...</option>
              <% autor.forEach(({nombre, id}) => { %>
               <option value="<%= id %>" <%= locals.old && old.autor.nombre && old.autor.nombre === nombre ? 'selected' : null %> ><%= nombre %> </option>
              <% }) %>
            </select>
            <small><%= locals.errors && errors.autor ? errors.autor.msg : null %></small>

        

              <input type="number" class="<%= locals.errors && errors.precio ? 'errorInput' : null %>" name="precio" id="precio" placeholder="Editar el precio del libro $$$"  value="<%=  precio %>">
              <small><%= locals.errors && errors.precio ? errors.precio.msg : null %></small>

              <input type="number" class="<%= locals.errors && errors.paginas ? 'errorInput' : null %>" name="paginas" id="paginas" placeholder="Editar cantidad de paginas del libro"  value="<%= paginas %>">
              <small><%= locals.errors && errors.paginas ? errors.paginas.msg : null %></small>

              <label for="editorial" class="titulo--edicion">Seleccionar Editorial</label>
              <select name="editorial" id="editorial">
                <option value="" selected hidden>Seleccione...</option>
                <% editorial.forEach(({nombre, id}) => { %>
                 <option value="<%= id %>"><%= nombre %> </option>
                <% }) %>
              </select>
              <small><%= locals.errors && errors.editorial ? errors.editorial.msg : null %></small>

              <input type="text" class="<%= locals.errors && errors.video ? 'errorInput' : null %>"  name="video" id="video" placeholder="ingrese link de video reseña" value="<%= video %>"> <!-- agregar al controlador, al json y validar -->
              <small><%= locals.errors && errors.video ? errors.video.msg : null %></small>

              <label for="description2" class="titulo--edicion">Editar descripción del Libro:</label>
              <textarea name="description2" class="<%= locals.errors && errors.description2 ? 'errorInput' : null %>" id="description2" placeholder="" rows="5"><%= description2 %></textarea>    
              <small><%= locals.errors && errors.description2 ? errors.description2.msg : null %></small>      
              </div>

              <div class="editar__categorias">
                <label for="categorias">Seleccionar genero</label>
                <select name="genero" id="genero">
                  <option value="" selected hidden>Seleccione...</option>
                  <% genero.forEach(({nombre, id}) => { %>
                   <option value="<%= id %>"><%= nombre %> </option>
                  <% }) %>
                </select>
                <small><%= locals.errors && errors.genero ? errors.genero.msg : null %></small>
            </div>

            <div class="editar__portada">
                <label for="portada">Editar imagen de portada</label>
                <input type="file" class="<%= locals.errors && errors.image ? 'errorInput' : null %>" name="image" id="image">
                <small><%= locals.errors && errors.image ? errors.image.msg : null %></small>
            </div>

            <div class="edicion--buttons">
                <!--Boton para abrir el modal-->
            <div class="boton-modal detalle-comprar">
              <label for="btn-modal">
                EDITAR <i class="fa-solid fa-pen-to-square"></i> 
              </label>
          </div>
           <!--Ventana Modal para consultar si queire elminar producto-->
    <input type="checkbox" id="btn-modal">
    <div class="container-modal">
        <div class="content-modal">
            <h2>¡ATENCION!</h2>
            <p>¿Estas seguro de que deseas editar este libro?</p>
            <div class="btn-cerrar">
              
                <button type="submit">EDITAR <i class="fa-solid fa-pen-to-square"></i> </i></button>
               
                <label for="btn-modal">CANCELAR</i></label>
            </div>
        </div>
        <label for="btn-modal" class="cerrar-modal"></label>
    </div>
<!--Fin de Ventana Modal-->
          <!--Fin de Boton-->
               <!--  <button type="submit">Editar Libro</button>
                <button type="reset">Cancelar</button> -->
            </div>
            <div class="edicion--inicio">
                <a href="/">Ir al inicio</a>
            </div>
        </form>

   </section>

</main>


    </main>
            <!-- REDES SOCIALES -->              
            <section class="index__section__redes">
                <h5>¡Seguinos en nuestras redes!</h5>
                <div class="redes-sociales">
                    <a href=""><i class="fa-brands fa-facebook"></i></a>
                    <a href=""><i class="fa-brands fa-square-instagram"></i></a>
                    <a href=""><i class="fa-brands fa-twitter"></i></a>
                    <a href=""><i class="fa-brands fa-youtube"></i></a>
                    <a href=""><i class="fa-brands fa-linkedin"></i></a>           
                </div>
        
           </section>
           <%- include('./partials/footer')  %>
        <!-- AOS -->
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
        <script>
          AOS.init();
        </script>
    
        <!-- GLIDER -->
        <script src="https://cdn.jsdelivr.net/npm/glider-js@1/glider.min.js"></script>
    
        <script>
    new Glider(document.querySelector('.glider'), {
      // Mobile-first defaults
      slidesToShow: 1,
      slidesToScroll: 1,
      scrollLock: true,
      dots: '#resp-dots',
      arrows: {
        prev: '.glider-prev',
        next: '.glider-next'
      },
      responsive: [
        {
          // screens greater than >= 775px
          breakpoint: 768,
          settings: {
            // Set to `auto` and provide item width to adjust to viewport
            slidesToShow: '2',
            slidesToScroll: '2',
            itemWidth: 150,
            duration: 0.25
          }
        },{
          // screens greater than >= 1024px
          breakpoint: 1024,
          settings: {
            slidesToShow: 4,
            slidesToScroll: 1,
            itemWidth: 100,
            duration: 0.25
          }
        }
      ]
    });
        </script>
    </body>
    </html>